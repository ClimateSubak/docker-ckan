{% extends "page.html" %}

{% import 'macros/form.html' as form %}

{% block primary_content %}
  <article class="module">
    <div class="module-content">
      {% block primary_content_inner %}
      <h1 class="page-heading">
        {% block page_heading %}{{ _('Register for an Account') }}{% endblock %}
      </h1>
      <form id="user-edit-form" class="dataset-form" method="post" action="{{ h.url_for('oauth.submit_username') }}" enctype="multipart/form-data">
        {{ form.errors(error_summary) }}

        <fieldset>
            <legend>{{ _('You\'re nearly there! Type your preffered username to complete your account registration') }}</legend>
            {{ form.input('username', label=_('Username'), id='field-username', value=data.username, classes=['control-medium'], attrs={'class': 'form-control'}) }}
            {{ form.hidden('auth_token', auth_token) }}
        </fieldset>

        <div class="form-actions">
            {% block form_actions %}
            <button class="btn btn-primary" type="submit" name="save">{{ _("Create Account") }}</button>
            {% endblock %}
        </div>
      </form>
      {% endblock %}
    </div>
  </article>
{% endblock %}

{% block secondary_content %}
  {% block help %}
  <section class="module module-narrow module-shallow">
    {% block help_inner %}
    <h2 class="module-heading">{{ _('Why Sign Up?') }}</h2>
    <div class="module-content">
      <p>{% trans %}Create datasets, groups and other exciting things{% endtrans %}</p>
    </div>
    {% endblock %}
  </section>
  {% endblock %}
{% endblock %}


